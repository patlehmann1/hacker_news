(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports=a(57)},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(23),c=a.n(l),s=a(8),u=a(3),o=a(26),i=a(5),h=a(6),m=a(10),b=a(7),d=a(9),p=function(){return r.a.createElement("header",null,r.a.createElement("h1",{className:"main_header"},"HACKER NEWS ALGOLIA API SEARCH"))},E=a(4),f=a(27),y=a.n(f),O=function(e){return{type:"SET LOADING",payload:e}},j=function(e){return{type:"SET NEWS",payload:e}},v=function(e){return function(t,a){t(O(!0));var n=a();n.news.searches[e]?(t(j(n.news.searches[e])),t(O(!1))):y.a.get("".concat("https://hn.algolia.com/api/v1","/search?query=").concat(e)).then(function(a){var n=a.data;t(j(n.hits)),t(function(e,t){return{type:"SET SEARCH",payload:{query:e,results:t}}}(e,n.hits)),t(O(!1))})}},w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(b.a)(t).call(this,e))).state={query:""},a.handleInputChange=a.handleInputChange.bind(Object(E.a)(Object(E.a)(a))),a.handleFormSubmit=a.handleFormSubmit.bind(Object(E.a)(Object(E.a)(a))),a.handleButtonClick=a.handleButtonClick.bind(Object(E.a)(Object(E.a)(a))),a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"handleInputChange",value:function(e){this.setState({query:e.target.value})}},{key:"handleButtonClick",value:function(e){this.props.getNews(e)}},{key:"handleFormSubmit",value:function(e){e.preventDefault(),this.props.getNews(this.state.query),this.setState({query:""})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"search_bar"},r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"input-group"},r.a.createElement("input",{placeholder:"Get the latest from Hacker News based on your search",name:"main-search",value:this.state.query,onChange:this.handleInputChange,className:"form-control"}),r.a.createElement("span",{className:"input-group-btn"},r.a.createElement("button",{type:"submit",className:"btn btn-secondary"},"Submit")))),r.a.createElement("div",{className:"recent_search"},r.a.createElement("h5",null,"Recent Searches"),r.a.createElement("span",null,this.props.searches.length?this.props.searches.map(function(t){return r.a.createElement("button",{className:"btn btn-primary",onClick:e.handleButtonClick.bind(e,t)},t)}):"Search for a term and see your recent searches here.")))}}]),t}(n.Component),N=Object(s.b)(function(e){var t=e.news;return{searches:Object.keys(t.searches),news:t}},function(e){return Object(u.b)({getNews:v},e)})(w),S=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"renderNews",value:function(e){var t=e.title,a=e.index,n=e.author,l=e.url,c=e.points,s=e.num_comments;return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t),r.a.createElement("td",null,n),r.a.createElement("td",null,r.a.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer"},l)),r.a.createElement("td",null,c),r.a.createElement("td",null,s))}},{key:"render",value:function(){return r.a.createElement("div",{className:"search_results"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Author"),r.a.createElement("th",null,"URL"),r.a.createElement("th",null,"Points"),r.a.createElement("th",null,"# of Comments"))),r.a.createElement("tbody",null,this.props.news.news.map(this.renderNews))))}}]),t}(n.Component);var g=Object(s.b)(function(e){return{news:e.news}})(S),k=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p,null),r.a.createElement(N,null),r.a.createElement(g,null))}}]),t}(n.Component),C=function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"footer_text"},"Created by Patrick Lehmann."),r.a.createElement("div",{className:"footer_text"},r.a.createElement("a",{className:"footer_link",href:"https://www.github.com/patlehmann1/hacker_news",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{class:"fab fa-github"})," See the code here")))},_=a(12),A=a(11),q=Object(u.c)({news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,news:[],searches:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET NEWS":return Object(A.a)({},e,{news:t.payload});case"SET SEARCH":return Object(A.a)({},e,{searches:Object(A.a)({},e.searches,Object(_.a)({},t.payload.query,t.payload.results))});case"SET LOADING":return Object(A.a)({},e,{loading:t.payload});default:return e}}}),I=Object(u.a)(o.a)(u.d);c.a.render(r.a.createElement(s.a,{store:I(q)},r.a.createElement("div",null,r.a.createElement("div",{className:"app_wrapper"},r.a.createElement(k,null)),r.a.createElement(C,null))),document.querySelector(".container"))}},[[28,2,1]]]);
//# sourceMappingURL=main.b5d36e39.chunk.js.map