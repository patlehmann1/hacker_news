(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(68)},37:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){},66:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),l=a.n(c),s=a(7),u=a(3),o=a(25),i=a(4),m=a(5),h=a(8),p=a(6),d=a(9),E=(a(37),function(){return r.a.createElement("header",null,r.a.createElement("h1",{className:"main_header"},"HACKER NEWS ALGOLIA API SEARCH"))}),b=a(26),f=a.n(b),y=function(e){return{type:"SET LOADING",payload:e}},v=function(e){return{type:"SET NEWS",payload:e}},w=function(e){return function(t,a){t(y(!0));var n=a();n.news.searches[e]?(t(v(n.news.searches[e])),t(y(!1))):f.a.get("".concat("https://hn.algolia.com/api/v1","/search?query=").concat(e)).then(function(a){var n=a.data;t(v(n.hits)),t(function(e,t){return{type:"SET SEARCH",payload:{query:e,results:t}}}(e,n.hits)),t(y(!1))})}},O=(a(58),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).handleInputChange=function(e){a.setState({query:e.target.value})},a.handleButtonClick=function(e){a.props.getNews(e)},a.handleFormSubmit=function(e){e.preventDefault(),a.props.getNews(a.state.query),a.setState({query:""})},a.state={query:""},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"search_bar"},r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"input-group"},r.a.createElement("input",{placeholder:"Get the latest from Hacker News based on your search",name:"main-search",value:this.state.query,onChange:this.handleInputChange,className:"form-control"}),r.a.createElement("span",{className:"input-group-btn"},r.a.createElement("button",{type:"submit",className:"btn btn-secondary"},"Submit")))),r.a.createElement("div",{className:"recent_search"},r.a.createElement("h5",null,"Recent Searches (Click to re-search)"),r.a.createElement("span",null,this.props.searches.length?this.props.searches.map(function(t,a){return r.a.createElement("button",{key:a,className:"btn btn-secondary",onClick:e.handleButtonClick.bind(e,t)},t)}):"Search for a term and see your recent searches here.")))}}]),t}(n.Component)),N=Object(s.b)(function(e){var t=e.news;return{searches:Object.keys(t.searches),news:t}},function(e){return Object(u.b)({getNews:w},e)})(O),j=(a(60),function(){return r.a.createElement("div",{className:"loader"})}),S=(a(62),function(e){function t(){return Object(i.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"renderNews",value:function(e,t){var a=e.title,n=e.author,c=e.url,l=e.points,s=e.num_comments;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,r.a.createElement("a",{href:c,target:"_blank",rel:"noopener noreferrer"},c)),r.a.createElement("td",null,l),r.a.createElement("td",null,s))}},{key:"render",value:function(){return r.a.createElement("div",{className:"search_results"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Author"),r.a.createElement("th",null,"URL"),r.a.createElement("th",null,"Points"),r.a.createElement("th",null,"# of Comments"))),r.a.createElement("tbody",null,this.props.loading?r.a.createElement(j,null):this.props.news.news.map(this.renderNews))))}}]),t}(n.Component));var g=Object(s.b)(function(e){return{news:e.news}})(S),k=function(e){function t(){return Object(i.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(E,null),r.a.createElement(N,null),r.a.createElement(g,null))}}]),t}(n.Component),C=(a(64),function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"footer_text"},"Created by Patrick Lehmann."),r.a.createElement("div",{className:"footer_text"},r.a.createElement("a",{className:"footer_link",href:"https://www.github.com/patlehmann1/hacker_news",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-github"})," See the code here")))}),_=a(11),A=a(10),q=Object(u.c)({news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,news:[],searches:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET NEWS":return Object(A.a)({},e,{news:t.payload});case"SET SEARCH":return Object(A.a)({},e,{searches:Object(A.a)({},e.searches,Object(_.a)({},t.payload.query,t.payload.results))});case"SET LOADING":return Object(A.a)({},e,{loading:t.payload});default:return e}}}),T=(a(66),Object(u.a)(o.a)(u.d));l.a.render(r.a.createElement(s.a,{store:T(q)},r.a.createElement("div",null,r.a.createElement("div",{className:"app_wrapper"},r.a.createElement(k,null)),r.a.createElement(C,null))),document.querySelector(".container"))}},[[27,2,1]]]);
//# sourceMappingURL=main.4b3286cd.chunk.js.map